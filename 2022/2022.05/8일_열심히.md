# 2022. 05. 08 Today I Learned

## 취업 목표?

취업을 언제 하고싶으냐, 라고 물으신다면 ASAP이라고 대답을 합니다. 다만, 저의 실력이 취업하기에 적절한 수준이 되어야 한다는 것 또한 인지하고 있습니다. 따라서, 열심히 공부하여 적어도 내년 상반기 취업시즌때에는 취업을 하고싶습니다. 딱 이맘때이죠. 4~5월에 다른 많은 기업에서 공채를 내고, 지원을 합니다. 아마 이 때 합격하면 9월즈음부터 일하나요? 그렇게되면 저는 한 학기가 남습니다.

- 이 한학기를 어떻게 해결해야 할까요. 저에게는 두 가지 방안이 있습니다. 첫 번째는 직장과 대학을 병행하는 것이고, 두 번째는 자퇴를 하는 것입니다.

  - 첫 번째 방안은 회사와 대학(교수)의 양해가 모두 필요합니다. 회사 측에서는 제가 대학에 시간을 할애한다는 것을 이해해주어야 하고, 대학(교수님) 입장에서는 제가 졸업도 전에 취직을 했지만, 졸업은 하고싶으니 출석, 과제, 성적평가 부문에서 이해를 해주어야 합니다. 그래도 취업했으니 대학 성적은 이제 필요가 없게 되었고, 대학 입장에서도 졸업시켜주면 졸업생의 취업률이 올라가니 손해보는 장사는 아닙니다. 심지어 등록금도 그대로 받아먹는군요. 그래서 그런가 출석에 대해서 매우 관대해지고, 시험도 보고서로 대체해주는 등의 양해를 보여주시는 모습을 심심치 않게 볼 수 있습니다.

  - 두 번째 방안은 사실 딱히 선택하고싶지 않습니다. 제 입장에서는 한 학기밖에 남지않은 대학인데, 한 학기를 수료하지 못한다고 해서 대학 졸업이 아닌 자퇴의 입장에 서야한다니요! 사실 대학을 졸업하느냐, 중퇴하느냐는 정말 인생에서 하등 도움되지 않습니다. 내가 이 대학에 몸담았다는 것 자체로는 도움이 될지 모르지만, 졸업 여부가 도움이 되진 않습니다. 다만 그럼에도 사람 욕심이 끝이 다가오면 끝을 맺고싶어하죠. 이왕 시작한거 말입니다. 4년이라는 적지 않은 시간을 할애했으니 말입니다.

- 그래서 제 목표는, 내년 상반기에 취업하는거고, 대학교도 졸업장 자체는 갖고싶습니다. 일단 취업이 우선시되어야겠지요. 열심히 합시다. 파이팅!

---

> middleware가 무엇인가?

- middleware라는것이 있습니다. software in the middle 의 줄임말입니다. middle software의 줄임말이라고 하는 것이 더 정확하겠네요.

- 브라우저가 어떤 것을 요청(request)하면, 서버는 응답(respond)합니다. 이러한 요청과 응답 사이에 존재하는 것이 미들웨어입니다.

```js
app.get("/", firstHandler, lastHandler);
```

이렇게 생긴 코드가 있다고 생각해봅시다. 브라우저가 home 페이지를 요청하면, 서버는 우선 `firstHandler` 함수를 실행합니다. 이 함수는 세 가지 인자가 필요합니다. req, res, next. 여기서 next를 활용해서 코드의 마지막에 `next();` 라고 작성해놓는다면, `lastHandler`가 실행됩니다. `firstHandler` 옆에 적혀있는 함수를 실행한거죠. 이 떄 `firstHandler`가 미들웨어의 역할을 한겁니다.

- `next();` 라는 코드를 작성하지 않는다면 다음 함수는 실행되지 않습니다. 미들웨어로서 작동하지 않는다고 할 수 있겠네요. 즉, 미들웨어는 브라우저의 요청(request)에 응답하지 않습니다. 응답을 지속시켜주는겁니다. 응답을 하는 함수는 `return res.send();` 와 같은 함수를 가지고 있는 것이라고 생각하면 되겠습니다.

- 미들웨어는 순서의 영향을 받습니다. 여느 자바스크립트 언어와 같이 말입니다. `app.use()`로 글로벌 미들웨어를 선언하기 전에 `app.get()`이 실행되면 미들웨어가 실행되지 않습니다. 이를 이용해 더 정교한 프로그램을 만들수도 있겠지만, 그런 프로그램이 과연 좋은 프로그램인지에 대해서는 잘 모르겠습니다.

- 정리하자면, 위의 코드는 왼쪽에서 오른쪽 순서로 실행됩니다. 먼저 라우트가 실행되고(url), 첫 번째 미들웨어가 실행됩니다. 이 미들웨어 함수 안에서 `next();`코드가 존재한다면 다음 함수인 lastHandler가 실행됩니다.

> 그래서 결국 미들웨어는 어떤 상황에서 써야하는가?

- 아무래도 서버 측에서 사용되는 코드들이다 보니 프론트엔드를 목적으로 하는 저는 아주 깊게 이를 이해할 필요는 없어보입니다. 다만, 보안상의 문제로, 혹은 충돌을 막기 위해서 충분히 사용될 여지가 있어보입니다. 관리자 접근 권한이 없는 사람이 비밀스런 url이 유출되었다고 해서 접근가능하게 해서는 안되죠.

---

- 이때까지 배운걸 종합해봤을 때 개발환경 셋업에서 서버측 개발을 진행할 때(혹은 프론트엔드 작업이라 하더라도), 수많은 셋업 과정들을 하나하나 실시해야 할까요? pacakge.json 파일만 있으면 충분하다고 생각합니다.

- 깃허브나 다른 경로를 통해서 package.json 파일을 다운받고, 그 폴더에서 터미널을 실행시켜 npm i라는 명령어만 치면 간단하게 개발환경이 만들어진다고 생각합니다. 그 외에 필요한 개발환경에는... 어떤 것들이 있을까요? 아직 협업 or 취업을 해보지 않아 잘은 모르겠습니다. 다만 개인 프로젝트와 개인 연습을 위한 서버 개발에 있어선 하나하나 설치해야하는 번거로움이 있긴 하겠네요.

---

> 적당히 라는건 누가 정의하는가?

- 가끔 이런 생각이 듭니다. 코딩 강의를 세 개~네 개 정도 들었으니 오늘은 이만하면 됐다고, 적당히 오늘의 분량을 다 채웠다고.
